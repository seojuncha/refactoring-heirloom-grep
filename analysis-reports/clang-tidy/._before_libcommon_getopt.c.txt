/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:28:14: warning: invalid case style for variable 'pfmt_label__' [readability-identifier-naming]
extern char     *pfmt_label__;
                 ^~~~~~~~~~~~
                 pfmt_label
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:61:10: warning: narrowing conversion from 'int' to signed type 'char' is implementation-defined [bugprone-narrowing-conversions]
        *bp++ = optopt;
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:67:1: warning: function 'getopt' has cognitive complexity of 51 (threshold 25) [readability-function-cognitive-complexity]
getopt(int argc, char *const argv[], const char *optstring)
^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:73:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (optstring[0] == ':') {
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:76:4: note: +1, nesting level increased to 1
        } else
          ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:78:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (lastp) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:81:4: note: +1, nesting level increased to 1
        } else {
          ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:82:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (optind >= argc || argv[optind] == 0 ||
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:83:28: note: +1
                                argv[optind][0] != '-' ||
                                                       ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:86:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (argv[optind][1] == '-' && argv[optind][2] == '\0') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:86:30: note: +1
                if (argv[optind][1] == '-' && argv[optind][2] == '\0') {
                                           ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:93:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        while (optstring[0]) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:94:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (optstring[0] == ':') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:98:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((optstring[0] & 0377) == optopt) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:99:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (optstring[1] == ':') {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:100:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (curp[1] != '\0') {
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:103:7: note: +1, nesting level increased to 4
                                } else {
                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:104:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        if ((optind += 2) > argc) {
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:105:7: note: +6, including nesting penalty of 5, nesting level increased to 6
                                                if (!colon && opterr)
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:105:18: note: +1
                                                if (!colon && opterr)
                                                           ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:107:20: note: +6, including nesting penalty of 5, nesting level increased to 6
                                                return colon ? ':' : '?';
                                                             ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:111:6: note: +1, nesting level increased to 3
                        } else {
                          ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:112:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (curp[1] != '\0')
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:114:5: note: +1, nesting level increased to 4
                                else
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:122:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (!colon && opterr)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:122:13: note: +1
        if (!colon && opterr)
                   ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:124:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (curp[1] != '\0')
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/getopt.c:126:2: note: +1, nesting level increased to 1
        else
        ^
