/home/sj/1/refactoring-heirloom-grep/before/grep.h:33:10: error: 'iblok.h' file not found [clang-diagnostic-error]
#include        "iblok.h"
                ^~~~~~~~~
/home/sj/1/refactoring-heirloom-grep/before/grep.h:70:13: warning: invalid case style for variable 'Eflag' [readability-identifier-naming]
extern int              Eflag;          /* use EREs */
                        ^~~~~
                        eflag
/home/sj/1/refactoring-heirloom-grep/before/grep.h:71:13: warning: invalid case style for variable 'Fflag' [readability-identifier-naming]
extern int              Fflag;          /* use fixed strings */
                        ^~~~~
                        fflag
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:91:1: warning: function 'rc_build' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
rc_build(void)
^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:101:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if ((e0->e_flg & E_NULL) == 0) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:102:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                for (sz = 0, e = e0; e; e = e->e_nxt) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:103:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (e->e_len > 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:105:4: note: +1, nesting level increased to 3
                        else
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:108:4: note: +1, nesting level increased to 1
        } else
          ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:110:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if ((e0->e_flg & E_NULL || emptypat) && sus == 0)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:110:39: note: +1
        if ((e0->e_flg & E_NULL || emptypat) && sus == 0)
                                             ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:110:26: note: +1
        if ((e0->e_flg & E_NULL || emptypat) && sus == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:112:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (sz == 0 || (emptypat && xflag == 0)) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:112:14: note: +1
        if (sz == 0 || (emptypat && xflag == 0)) {
                    ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:112:27: note: +1
        if (sz == 0 || (emptypat && xflag == 0)) {
                                 ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:118:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (cp = pat, e = e0; e; e = e->e_nxt) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:119:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (e->e_len > 0) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:126:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (iflag)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:128:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (Eflag)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:131:2: note: +1, nesting level increased to 1
        else {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:136:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (xflag)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:138:2: note: +1, nesting level increased to 1
        else
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:143:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if ((rerror = regcomp(e->e_exp, pat, rflags)) != 0)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:146:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (!xflag && e->e_exp->re_flags & REG_DFA)
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:147:18: note: +2, including nesting penalty of 1, nesting level increased to 2
                range = mbcode ? rc_rangew : rc_range;
                               ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:216:1: warning: function 'rc_range' has cognitive complexity of 51 (threshold 25) [readability-function-cognitive-complexity]
rc_range(struct iblok *ip, char *last)
^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:225:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (dp->acc[cstat])
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:227:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (;;) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:228:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((nstat = dp->trans[cstat][*p & 0377]) == 0) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:237:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((c = *p & 0377) == '\n')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:239:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((nstat = regtrans(dp, cstat, c, 1)) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:243:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (dp->acc[cstat = nstat - 1]) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:244:10: note: +3, including nesting penalty of 2, nesting level increased to 3
                found:  for (;;) {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:245:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (vflag == 0) {
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:247:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        if (qflag || lflag)
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:247:16: note: +1
                                        if (qflag || lflag)
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:249:7: note: +1, nesting level increased to 4
                                } else {
                                  ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:251:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        while (*ip->ib_cur++ != '\n');
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:253:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if ((p = ip->ib_cur) > last)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:256:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (dp->acc[cstat = dp->anybol] == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:260:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (*p++ == '\n') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:261:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (vflag) {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:263:5: note: +1
                                goto succeed;
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:265:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((ip->ib_cur = p) > last)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:268:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (dp->acc[cstat = dp->anybol])
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:280:1: warning: function 'rc_rangew' has cognitive complexity of 57 (threshold 25) [readability-function-cognitive-complexity]
rc_rangew(struct iblok *ip, char *last)
^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:290:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (dp->acc[cstat])
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:292:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (;;) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:293:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (*p & 0200) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:294:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = mbtowi(&wc, p, last + 1 - p)) < 0) {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:298:5: note: +1, nesting level increased to 2
                } else {
                  ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:302:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((wc & ~(wchar_t)(NCHAR-1)) != 0 ||
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:312:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc == '\n')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:314:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((nstat = regtrans(dp, cstat, wc, mb_cur_max)) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:318:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (dp->acc[cstat = nstat - 1]) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:319:10: note: +3, including nesting penalty of 2, nesting level increased to 3
                found:  for (;;) {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:320:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (vflag == 0) {
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:322:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        if (qflag || lflag)
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:322:16: note: +1
                                        if (qflag || lflag)
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:324:7: note: +1, nesting level increased to 4
                                } else {
                                  ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:326:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        while (*ip->ib_cur++ != '\n');
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:328:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if ((p = ip->ib_cur) > last)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:331:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (dp->acc[cstat = dp->anybol] == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:336:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (p[-n] == '\n') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:337:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (vflag) {
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:339:5: note: +1
                                goto succeed;
                                ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:341:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((ip->ib_cur = p) > last)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:344:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (dp->acc[cstat = dp->anybol])
                        ^
/home/sj/1/refactoring-heirloom-grep/before/rcomp.c:299:9: warning: 'signed char' to 'wint_t' (aka 'unsigned int') conversion; consider casting to 'unsigned char' first. [bugprone-signed-char-misuse]
                        wc = *p;
                             ^
