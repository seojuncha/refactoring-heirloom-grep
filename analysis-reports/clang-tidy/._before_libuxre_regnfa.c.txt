/home/sj/1/refactoring-heirloom-grep/before/libuxre/colldata.h:57:10: error: 'wcharm.h' file not found with <angled> include; use "quotes" instead [clang-diagnostic-error]
#include <wcharm.h>
         ^~~~~~~~~~
         "wcharm.h"
/home/sj/1/refactoring-heirloom-grep/before/libuxre/re.h:40:10: error: 'colldata.h' file not found with <angled> include; use "quotes" instead [clang-diagnostic-error]
#include <colldata.h>
         ^~~~~~~~~~~~
         "colldata.h"
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:187:1: warning: function 'mkgraph' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
mkgraph(Tree *tp, Graph **first, Graph **last)
^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:192:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (tp->op != ROP_CAT)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:194:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((new = malloc(sizeof(Graph))) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:198:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        switch (tp->op)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:224:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((rmt = mkgraph(tp->right.ptr, &rf, &rl)) < 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:232:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((lmt = mkgraph(tp->left.ptr, &lf, &ll)) < 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:242:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        switch (tp->op)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:245:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((nop = malloc(sizeof(Graph))) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:262:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((nop = malloc(sizeof(Graph))) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:277:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                new->op = lmt ? ROP_MTOR : ROP_OR;
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:285:3: note: +1
                goto star;
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:287:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((nop = malloc(sizeof(Graph))) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:294:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((new->alt.info.num[0] = tp->right.info.num[0]) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:299:3: note: +1, nesting level increased to 2
                else
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:302:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (new->alt.info.num[1] != BRACE_INF)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:309:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((nop = malloc(sizeof(Graph))) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:321:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (KIND_ROP(tp->op) == BINARY_ROP && rf != 0)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:321:37: note: +1
        if (KIND_ROP(tp->op) == BINARY_ROP && rf != 0)
                                           ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:323:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (lf != 0)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:325:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (tp->op != ROP_CAT)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:403:11: error: no member named 're_flags' in 'struct re_pattern_buffer' [clang-diagnostic-error]
        if ((ep->re_flags & REG_NOSUB) == 0)
             ~~  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:426:6: error: no member named 're_nfa' in 'struct re_pattern_buffer' [clang-diagnostic-error]
        ep->re_nfa = np;
        ~~  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:1: warning: function 'casecmp' has cognitive complexity of 66 (threshold 25) [readability-function-cognitive-complexity]
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:610:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (strncmp((char *)s, (char *)p, n) == 0) /* try for exact match */
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:612:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if ((xp->flags & REG_ICASE) == 0)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:620:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        do
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:622:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((wc1 = *s++) == '\0')
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:624:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!ISONEBYTE(wc1) && (k = libuxre_mb2wc(&wc1, s)) > 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:624:23: note: +1
                if (!ISONEBYTE(wc1) && (k = libuxre_mb2wc(&wc1, s)) > 0)
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:624:8: note: +1
                if (!ISONEBYTE(wc1) && (k = libuxre_mb2wc(&wc1, s)) > 0)
                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:56:43: note: expanded from macro 'ISONEBYTE'
#define ISONEBYTE(ch)   (((ch) & 0200) == 0 || mb_cur_max == 1)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:626:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!ISONEBYTE(wc2 = *p++) && (k = libuxre_mb2wc(&wc2, p)) > 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:626:30: note: +1
                if (!ISONEBYTE(wc2 = *p++) && (k = libuxre_mb2wc(&wc2, p)) > 0)
                                           ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:626:8: note: +1
                if (!ISONEBYTE(wc2 = *p++) && (k = libuxre_mb2wc(&wc2, p)) > 0)
                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:56:43: note: expanded from macro 'ISONEBYTE'
#define ISONEBYTE(ch)   (((ch) & 0200) == 0 || mb_cur_max == 1)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:628:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (wc1 != wc2)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +3, including nesting penalty of 2, nesting level increased to 3
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:38: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: nesting level increased to 4
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:157:4: note: expanded from macro '__tobody'
   ({ int __res;                                                              \
   ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +5, including nesting penalty of 4, nesting level increased to 5
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:158:7: note: expanded from macro '__tobody'
      if (sizeof (c) > 1)                                                     \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +6, including nesting penalty of 5, nesting level increased to 6
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:160:4: note: expanded from macro '__tobody'
          if (__builtin_constant_p (c))                                       \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +7, including nesting penalty of 6, nesting level increased to 7
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:163:40: note: expanded from macro '__tobody'
              __res = __c < -128 || __c > 255 ? __c : (a)[__c];               \
                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +1
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:163:27: note: expanded from macro '__tobody'
              __res = __c < -128 || __c > 255 ? __c : (a)[__c];               \
                                 ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +1, nesting level increased to 6
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:165:4: note: expanded from macro '__tobody'
          else                                                                \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:630:10: note: +1, nesting level increased to 5
                        wc1 = to_lower(wc1);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:168:7: note: expanded from macro '__tobody'
      else                                                                    \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +3, including nesting penalty of 2, nesting level increased to 3
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:38: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: nesting level increased to 4
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:157:4: note: expanded from macro '__tobody'
   ({ int __res;                                                              \
   ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +5, including nesting penalty of 4, nesting level increased to 5
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:158:7: note: expanded from macro '__tobody'
      if (sizeof (c) > 1)                                                     \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +6, including nesting penalty of 5, nesting level increased to 6
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:160:4: note: expanded from macro '__tobody'
          if (__builtin_constant_p (c))                                       \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +7, including nesting penalty of 6, nesting level increased to 7
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:163:40: note: expanded from macro '__tobody'
              __res = __c < -128 || __c > 255 ? __c : (a)[__c];               \
                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +1
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:163:27: note: expanded from macro '__tobody'
              __res = __c < -128 || __c > 255 ? __c : (a)[__c];               \
                                 ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +1, nesting level increased to 6
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:165:4: note: expanded from macro '__tobody'
          else                                                                \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:631:10: note: +1, nesting level increased to 5
                        wc2 = to_lower(wc2);
                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:168:7: note: expanded from macro '__tobody'
      else                                                                    \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:632:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc1 != wc2)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:35: warning: 3 adjacent parameters of 'casecmp' of convertible types are easily swapped by mistake [bugprone-easily-swappable-parameters]
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:43: note: the first parameter in the range is 'i'
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
                                          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:61: note: the last parameter in the range is 'mb_cur_max'
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
                                                            ^~~~~~~~~~
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:35: note: 
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:603:57: note: 'ssize_t' and 'int' may be implicitly converted: 'ssize_t' (as 'long') -> 'int', 'int' -> 'ssize_t' (as 'long')
casecmp(const Uchar *s, Exec *xp, ssize_t i, ssize_t n, int mb_cur_max)
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:640:1: warning: function 'libuxre_regnfaexec' has cognitive complexity of 315 (threshold 25) [readability-function-cognitive-complexity]
libuxre_regnfaexec(Nfa *np, Exec *xp)
^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:657:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if ((np->used = xp->nmatch) < np->rmmin)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:662:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (;;)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:670:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                for (;;)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:674:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (!ISONEBYTE(wc = *s++) &&
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:674:30: note: +1
                        if (!ISONEBYTE(wc = *s++) &&
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:674:9: note: +1
                        if (!ISONEBYTE(wc = *s++) &&
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:56:43: note: expanded from macro 'ISONEBYTE'
#define ISONEBYTE(ch)   (((ch) & 0200) == 0 || mb_cur_max == 1)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:677:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (np->cur != 0 || np->beg == wc || np->beg == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:677:38: note: +1
                        if (np->cur != 0 || np->beg == wc || np->beg == 0)
                                                          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:679:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (np->beg == ROP_BOL)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:681:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (s2 == 0 && (xp->flags & REG_NOTBOL) == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:681:17: note: +1
                                if (s2 == 0 && (xp->flags & REG_NOTBOL) == 0)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:683:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if ((xp->flags & REG_NEWLINE) == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:685:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (s2 != 0 && *s2 == '\n')
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:685:17: note: +1
                                if (s2 != 0 && *s2 == '\n')
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:688:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc == '\0')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:696:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (rmso < 0 && newctxt(np, 0, np->gp) != 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:696:16: note: +1
                if (rmso < 0 && newctxt(np, 0, np->gp) != 0)
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:708:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                switch (gp->op)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:713:4: note: +1
                        goto mtor;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:717:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (cp->wasgp != gp) /* first time */
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:719:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (mkstck(np, cp, gp) != 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:722:9: note: +1, nesting level increased to 3
                        else if (cp->str == s) /* spinning */
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:725:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (brace != 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:727:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (cp->cnt >= brace->alt.info.num[1])
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:729:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (++cp->cnt <= brace->alt.info.num[0])
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:732:6: note: +1
                                        goto again;
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:734:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (cp->cnt > BRACE_MAX)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:737:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (newctxt(np, cp, gp->alt.ptr) != 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:741:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((sp = cp->sp) != 0) /* pop stack */
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:754:4: note: +1
                        goto again;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:756:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (newctxt(np, cp, gp->alt.ptr) != 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:758:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:760:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = gp->alt.info.sub) < np->used)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:770:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if ((k = cp->nset) < n)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:774:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        for (;; rmp++)
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:778:7: note: +6, including nesting penalty of 5, nesting level increased to 6
                                                if (++k >= n)
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:784:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:786:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = gp->alt.info.sub) < np->used)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:788:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:790:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (s2 == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:792:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (xp->flags & REG_NOTBOL)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:795:9: note: +1, nesting level increased to 3
                        else if ((xp->flags & REG_NEWLINE) == 0 || *s2 != '\n')
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:795:44: note: +1
                        else if ((xp->flags & REG_NEWLINE) == 0 || *s2 != '\n')
                                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:797:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:799:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc == '\0')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:801:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (xp->flags & REG_NOTEOL)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:804:9: note: +1, nesting level increased to 3
                        else if ((xp->flags & REG_NEWLINE) == 0 || wc != '\n')
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:804:44: note: +1
                        else if ((xp->flags & REG_NEWLINE) == 0 || wc != '\n')
                                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:806:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:808:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (gp->op != wc)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:810:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if ((xp->flags & REG_ICASE) == 0
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:6: note: +1
                                        || gp->op != to_lower(wc))
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +4, including nesting penalty of 3, nesting level increased to 4
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:38: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: nesting level increased to 5
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:157:4: note: expanded from macro '__tobody'
   ({ int __res;                                                              \
   ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +6, including nesting penalty of 5, nesting level increased to 6
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:158:7: note: expanded from macro '__tobody'
      if (sizeof (c) > 1)                                                     \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +7, including nesting penalty of 6, nesting level increased to 7
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:160:4: note: expanded from macro '__tobody'
          if (__builtin_constant_p (c))                                       \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +8, including nesting penalty of 7, nesting level increased to 8
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:163:40: note: expanded from macro '__tobody'
              __res = __c < -128 || __c > 255 ? __c : (a)[__c];               \
                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +1, nesting level increased to 7
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:165:4: note: expanded from macro '__tobody'
          else                                                                \
          ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:811:19: note: +1, nesting level increased to 6
                                        || gp->op != to_lower(wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:58:55: note: expanded from macro 'to_lower'
#define to_lower(ch)    (mb_cur_max > 1 ? towlower(ch) : tolower(ch))
                                                         ^
/usr/include/ctype.h:220:22: note: expanded from macro 'tolower'
#  define tolower(c)    __tobody (c, tolower, *__ctype_tolower_loc (), (c))
                        ^
/usr/include/ctype.h:168:7: note: expanded from macro '__tobody'
      else                                                                    \
      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:813:6: note: +1
                                        goto failed;
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:823:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((cp = cpn) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:825:4: note: +1
                        goto loop;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:827:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc == '\n')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:831:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc > '\0')
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:839:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((cp = cpn) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:841:4: note: +1
                        goto loop;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:843:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (s2 == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:845:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (xp->flags & REG_NOTBOL)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:848:4: note: +1, nesting level increased to 3
                        else
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:852:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (wc != '_' &&
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:852:19: note: +1
                                if (wc != '_' &&
                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:853:35: note: +4, including nesting penalty of 3, nesting level increased to 4
                                    !iswalnum(mb_cur_max == 1 ? btowc(wc) : wc))
                                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:855:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (!ISONEBYTE(pwc = *s2))
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:855:10: note: +1
                                if (!ISONEBYTE(pwc = *s2))
                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/wcharm.h:56:43: note: expanded from macro 'ISONEBYTE'
#define ISONEBYTE(ch)   (((ch) & 0200) == 0 || mb_cur_max == 1)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:857:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (pwc == '_' ||
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:857:20: note: +1
                                if (pwc == '_' ||
                                               ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:858:33: note: +4, including nesting penalty of 3, nesting level increased to 4
                                    iswalnum(mb_cur_max== 1 ? btowc(pwc) : pwc))
                                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:861:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:863:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (wc == '_' ||
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:863:18: note: +1
                        if (wc == '_' ||
                                      ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:864:33: note: +3, including nesting penalty of 2, nesting level increased to 3
                            iswalnum(mb_cur_max == 1 ? btowc(wc) : wc))
                                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:866:4: note: +1
                        goto tonext;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:869:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (cp->wasgp == gp) /* rest of MCCE */
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:872:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (s1 >= cp->str) /* got it all */
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:874:5: note: +1
                                goto tostep;
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:876:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((i = libuxre_bktmbexec(gp->alt.info.bkt, wc, s,
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:879:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = i) == 0)       /* only matched wc */
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:882:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (mkstck(np, cp, gp) != 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:886:4: note: +1
                        goto tostep;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:888:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (cp->wasgp == gp)    /* rest of matched string */
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:890:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = gp->alt.info.sub) >= cp->nset)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:892:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((len = cp->rm[n].rm_eo) < 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:894:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((len -= n = cp->rm[n].rm_so) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:896:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (casecmp(s1, xp, n, len, mb_cur_max) == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:898:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = s - s1) >= len)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:901:4: note: +1
                        goto spin;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:903:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (xp->flags & REG_NONEMPTY)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:905:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (s2 == 0)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:908:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (xp->nmatch == 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:913:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if ((n = cp->nset) < xp->nmatch)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:915:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                do
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:925:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (rmso < 0 || n < rmso)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:925:17: note: +1
                        if (rmso < 0 || n < rmso)
                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:931:5: note: +1
                                goto failed;
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:933:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (rmso < n || xp->match[0].rm_eo > cp->rm[0].rm_eo)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:933:17: note: +1
                        if (rmso < n || xp->match[0].rm_eo > cp->rm[0].rm_eo)
                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:935:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (xp->match[0].rm_eo < cp->rm[0].rm_eo)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:978:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        for (n = 1; n < xp->nmatch; n++)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:983:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (xp->flags & REG_AVOIDNULL) {
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:998:27: note: +1
                                                        xp->match[n].rm_so ||
                                                                           ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1000:7: note: +1, nesting level increased to 4
                                } else
                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1008:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (len < nlen && use)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1008:20: note: +1
                                if (len < nlen && use)
                                               ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1010:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (len > nlen)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1018:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (len < nlen && use)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1018:20: note: +1
                                if (len < nlen && use)
                                               ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1020:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (len > nlen)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1024:4: note: +1
                        goto failed;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1033:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (wc == '\0')
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1035:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (rmso >= 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1037:4: note: +1
                        goto nomatch;
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1040:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if ((np->cur = np->step) == 0)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1042:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (rmso >= 0)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1053:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (cp = np->allcp; cp != 0; cp = cpn)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1060:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (sp = np->allsp; sp != 0; sp = spn)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:1069:2: note: +1
        goto match;
        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:764:23: warning: narrowing conversion from 'long' to signed type 'regoff_t' (aka 'int') is implementation-defined [bugprone-narrowing-conversions]
                                cp->rm[n].rm_so = s1 - xp->str;
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:787:23: warning: narrowing conversion from 'long' to signed type 'regoff_t' (aka 'int') is implementation-defined [bugprone-narrowing-conversions]
                                cp->rm[n].rm_eo = s1 - xp->str;
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:894:16: warning: narrowing conversion from 'size_t' (aka 'unsigned long') to signed type 'ssize_t' (aka 'long') is implementation-defined [bugprone-narrowing-conversions]
                        if ((len -= n = cp->rm[n].rm_so) == 0)
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:896:24: warning: narrowing conversion from 'size_t' (aka 'unsigned long') to signed type 'ssize_t' (aka 'long') is implementation-defined [bugprone-narrowing-conversions]
                        if (casecmp(s1, xp, n, len, mb_cur_max) == 0)
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:903:20: error: use of undeclared identifier 'REG_NONEMPTY' [clang-diagnostic-error]
                        if (xp->flags & REG_NONEMPTY)
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:927:12: warning: narrowing conversion from 'size_t' (aka 'unsigned long') to signed type 'ssize_t' (aka 'long') is implementation-defined [bugprone-narrowing-conversions]
                                rmso = n;
                                       ^
/home/sj/1/refactoring-heirloom-grep/before/libuxre/regnfa.c:983:21: error: use of undeclared identifier 'REG_AVOIDNULL' [clang-diagnostic-error]
                                if (xp->flags & REG_AVOIDNULL) {
                                                ^
