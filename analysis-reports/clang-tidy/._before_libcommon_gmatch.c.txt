/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:38: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                   ^
                                                   ( )
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:58:1: warning: function 'gmatch' has cognitive complexity of 155 (threshold 25) [readability-function-cognitive-complexity]
gmatch(const char *s, const char *p)
^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:65:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (fetch(scc, s, n) == WEOF)
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:65:6: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (fetch(scc, s, n) == WEOF)
            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:65:6: note: +1
        if (fetch(scc, s, n) == WEOF)
            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:65:6: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (fetch(scc, s, n) == WEOF)
            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:65:6: note: +3, including nesting penalty of 2, nesting level increased to 3
        if (fetch(scc, s, n) == WEOF)
            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:67:2: note: +1, including nesting penalty of 0, nesting level increased to 1
        switch (fetch(c, p, n)) {
        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:67:10: note: +2, including nesting penalty of 1, nesting level increased to 2
        switch (fetch(c, p, n)) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:67:10: note: +1
        switch (fetch(c, p, n)) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:67:10: note: +3, including nesting penalty of 2, nesting level increased to 3
        switch (fetch(c, p, n)) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:67:10: note: +4, including nesting penalty of 3, nesting level increased to 4
        switch (fetch(c, p, n)) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:74:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (*p == '!') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:77:5: note: +1, nesting level increased to 2
                } else
                  ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:79:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:79:3: note: +1
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:79:3: note: +3, including nesting penalty of 2, nesting level increased to 3
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:79:3: note: +4, including nesting penalty of 3, nesting level increased to 4
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:81:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                while (c != '\0') {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:82:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (c == ']' && p > bp)
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:82:17: note: +1
                        if (c == ']' && p > bp)
                                     ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:83:23: note: +4, including nesting penalty of 3, nesting level increased to 4
                                return (ok ^ excl ? gmatch(s, p) : 0);
                                                  ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:84:9: note: +1, nesting level increased to 3
                        else if (c == '-' && p > bp && *p != ']') {
                             ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:84:32: note: +1
                        else if (c == '-' && p > bp && *p != ']') {
                                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:85:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (*p == '\\')
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:87:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (fetch(c, p, n) == '\0')
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:87:9: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (fetch(c, p, n) == '\0')
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:87:9: note: +1
                                if (fetch(c, p, n) == '\0')
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:87:9: note: +5, including nesting penalty of 4, nesting level increased to 5
                                if (fetch(c, p, n) == '\0')
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:87:9: note: +6, including nesting penalty of 5, nesting level increased to 6
                                if (fetch(c, p, n) == '\0')
                                    ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:89:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (lc <= scc && scc <= c)
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:89:19: note: +1
                                if (lc <= scc && scc <= c)
                                              ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:91:6: note: +1, nesting level increased to 3
                        } else {
                          ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:92:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (c == '\\') {
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:93:6: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        if (fetch(c, p, n) == '\0')
                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:93:10: note: +5, including nesting penalty of 4, nesting level increased to 5
                                        if (fetch(c, p, n) == '\0')
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:93:10: note: +1
                                        if (fetch(c, p, n) == '\0')
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:93:10: note: +6, including nesting penalty of 5, nesting level increased to 6
                                        if (fetch(c, p, n) == '\0')
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:93:10: note: +7, including nesting penalty of 6, nesting level increased to 7
                                        if (fetch(c, p, n) == '\0')
                                            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:96:5: note: +4, including nesting penalty of 3, nesting level increased to 4
                                if (scc == (lc = c))
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:99:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        fetch(c, p, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:99:4: note: +1
                        fetch(c, p, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:99:4: note: +4, including nesting penalty of 3, nesting level increased to 4
                        fetch(c, p, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:99:4: note: +5, including nesting penalty of 4, nesting level increased to 5
                        fetch(c, p, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:105:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:105:3: note: +1
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:105:3: note: +3, including nesting penalty of 2, nesting level increased to 3
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:105:3: note: +4, including nesting penalty of 3, nesting level increased to 4
                fetch(c, p, n);
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:106:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (c == '\0')
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:111:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (c != scc)
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:116:15: note: +2, including nesting penalty of 1, nesting level increased to 2
                return (scc ? gmatch(s, p) : 0);
                            ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:119:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (*p == '\0')
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:122:3: note: +2, including nesting penalty of 1, nesting level increased to 2
                while (*s) {
                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:123:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        if (gmatch(s, p))
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:125:4: note: +3, including nesting penalty of 2, nesting level increased to 3
                        fetch(scc, s, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:57: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:125:4: note: +1
                        fetch(scc, s, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:52:42: note: expanded from macro 'fetch'
#define fetch(wc, s, n) ((mb_cur_max > 1 && *(s) & 0200 ? \
                                         ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:125:4: note: +4, including nesting penalty of 3, nesting level increased to 4
                        fetch(scc, s, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:19: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:125:4: note: +5, including nesting penalty of 4, nesting level increased to 5
                        fetch(scc, s, n);
                        ^
/home/sj/1/refactoring-heirloom-grep/before/libcommon/gmatch.c:54:35: note: expanded from macro 'fetch'
                 (n) = ((n) > 0 ? (n) : (n) < 0 ? (wc = WEOF, 1) : 1)) :\
                                                ^
